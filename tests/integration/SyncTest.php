<?php

class SyncTest extends LocalWebTestCase {
    /* public function testHello() {
      $this->client->get('/hello/William', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      $this->assertSame('Hello, William', $this->client->response->body());
      }

      public function testDealSynchronize() {
      $this->client->post('/deal/synchronize', '{"vid":65604,"canonical-vid":65604,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mO3U9WAzOPjQY6LPiW3X6F0lZtNwdkUBv-9S0kW3SA98I2ED09NOM8Gh1h4KlNJy0F9Fz7EsMdw17raHYNttfFawB5SBDCHZ2FGuAHTvD1TCikfk027EqCdrrMUToSU0whzWPQ6","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mO3U9WAzOPjQY6LPiW3X6F0lZtNwdkUBv-9S0kW3SA98I2ED09NOM8Gh1h4KlNJy0F9Fz7EsMdw17raHYNttfFawB5SBDCHZ2FGuAHTvD1TCikfk027EqCdrrMUToSU0whzWPQ6/","properties":{"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442411859078,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"createdate":{"value":"1442411859094","versions":[{"value":"1442411859094","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1442411859094,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hubspot_owner_id":{"value":"6168064","versions":[{"value":"6168064","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442412187448,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"email":{"value":"testcase_003@tezrosolutions.com","versions":[{"value":"testcase_003@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442411859078,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1442411859094","versions":[{"value":"1442411859094","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"lastmodifieddate":{"value":"1442412223496","versions":[{"value":"1442412223496","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1442412223496,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":142411863131,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1442411859094","versions":[{"value":"1442411859094","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1442411859094,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"lastname":{"value":"003","versions":[{"value":"003","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442411859078,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"hubspot_owner_assigneddate":{"value":"1442412187448","versions":[{"value":"1442412187448","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442412187448,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1442412223428,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1442411859094,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":19,"internal-list-id":20,"timestamp":1442412237750,"vid":65604,"is-member":true},{"static-list-id":20,"internal-list-id":21,"timestamp":1442412232831,"vid":65604,"is-member":true},{"static-list-id":24,"internal-list-id":25,"timestamp":1442412232623,"vid":65604,"is-member":true},{"static-list-id":31,"internal-list-id":32,"timestamp":1442412200515,"vid":65604,"is-member":true},{"static-list-id":443,"internal-list-id":503,"timestamp":1442412225175,"vid":65604,"is-member":true},{"static-list-id":444,"internal-list-id":504,"timestamp":1442412223172,"vid":65604,"is-member":true},{"static-list-id":447,"internal-list-id":507,"timestamp":1442412222896,"vid":65604,"is-member":true}],"identity-profiles":[{"vid":65604,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_003@tezrosolutions.com","timestamp":1442411859094,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"944b849c-3aa5-4cf4-b264-2b2de682e0ea","timestamp":1442411859175,"source":"UNSPECIFIED"}]}],"merge-audits":[],"associated-owner":{"first-name":"Umair","last-name":"M","email":"umair@tezrosolutions.com","type":"PERSON"}}');
      $this->assertEquals(200, $this->client->response->status());

      //checking if deal was properly entered
      $this->assertSame('200', $this->client->response->body());
      }

      public function testContactSpaceUpdateHubSpot() {
      $this->client->post('/contactspace/updateHubSpot', array("CallID" => "620"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      $this->assertEquals("success", $this->client->response->body());
      }

      public function testFinderSynchronize() {
      $this->client->post('/finder/synchronize', array("lead_id" => "113", "date_posted" => "2015-11-09 15:28:32", "fname" => "arch", "lname" => "Robb", "phone" => "0402678552", "email" => "arch567_2@bigpond.com", "income" => "payg_employed", "australian_citizen" => "Yes", "credit_defaults" => "none"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if deal was properly entered and no error was produced
      $this->assertSame('200', $this->client->response->body());
      }

      public function testEmailLeads() {
      $this->client->post('/emailleads/synchronize', array("type" => "loanplace"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      }

      public function testContactSpaceOutbound() {
      $this->client->get('/contactspace/outbound/6', '{"vid":65604,"canonical-vid":65604,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mO3U9WAzOPjQY6LPiW3X6F0lZtNwdkUBv-9S0kW3SA98I2ED09NOM8Gh1h4KlNJy0F9Fz7EsMdw17raHYNttfFawB5SBDCHZ2FGuAHTvD1TCikfk027EqCdrrMUToSU0whzWPQ6","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mO3U9WAzOPjQY6LPiW3X6F0lZtNwdkUBv-9S0kW3SA98I2ED09NOM8Gh1h4KlNJy0F9Fz7EsMdw17raHYNttfFawB5SBDCHZ2FGuAHTvD1TCikfk027EqCdrrMUToSU0whzWPQ6/","properties":{"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442411859078,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"createdate":{"value":"1442411859094","versions":[{"value":"1442411859094","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1442411859094,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hubspot_owner_id":{"value":"6168064","versions":[{"value":"6168064","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442412187448,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"email":{"value":"testcase_003@tezrosolutions.com","versions":[{"value":"testcase_003@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442411859078,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1442411859094","versions":[{"value":"1442411859094","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"lastmodifieddate":{"value":"1442412223496","versions":[{"value":"1442412223496","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1442412223496,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":142411863131,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1442411859094","versions":[{"value":"1442411859094","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1442411859094,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"lastname":{"value":"003","versions":[{"value":"003","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442411859078,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"hubspot_owner_assigneddate":{"value":"1442412187448","versions":[{"value":"1442412187448","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1442412187448,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1442411859741,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1442412223428,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1442411863131,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1442411859094,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":19,"internal-list-id":20,"timestamp":1442412237750,"vid":65604,"is-member":true},{"static-list-id":20,"internal-list-id":21,"timestamp":1442412232831,"vid":65604,"is-member":true},{"static-list-id":24,"internal-list-id":25,"timestamp":1442412232623,"vid":65604,"is-member":true},{"static-list-id":31,"internal-list-id":32,"timestamp":1442412200515,"vid":65604,"is-member":true},{"static-list-id":443,"internal-list-id":503,"timestamp":1442412225175,"vid":65604,"is-member":true},{"static-list-id":444,"internal-list-id":504,"timestamp":1442412223172,"vid":65604,"is-member":true},{"static-list-id":447,"internal-list-id":507,"timestamp":1442412222896,"vid":65604,"is-member":true}],"identity-profiles":[{"vid":65604,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_003@tezrosolutions.com","timestamp":1442411859094,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"944b849c-3aa5-4cf4-b264-2b2de682e0ea","timestamp":1442411859175,"source":"UNSPECIFIED"}]}],"merge-audits":[],"associated-owner":{"first-name":"Umair","last-name":"M","email":"umair@tezrosolutions.com","type":"PERSON"}}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }

      public function testGeniusUpdateHubSpot() {
      $this->client->post('/genius/updateHubSpot', array("gid" => "30349", "vid" => "12561603", "settlement_date" => "1446681600000"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      }

      public function testGeniusSychronize() {
      $this->client->post('/genius/synchronize', '{"vid":104731,"canonical-vid":104731,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mN6dCh2Z6789h1Vf1RDd9JYT4PdHD1o0aOWfK6UbUUngxSf8Bbevdu5M9uUfYR5t5QU-vT76vxcB7KmKodYRYq4mYDHx2OoRT2Zl3Oc7yNGomFAcDjxAPuBq7e_nJouO0NbBQl6","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mN6dCh2Z6789h1Vf1RDd9JYT4PdHD1o0aOWfK6UbUUngxSf8Bbevdu5M9uUfYR5t5QU-vT76vxcB7KmKodYRYq4mYDHx2OoRT2Zl3Oc7yNGomFAcDjxAPuBq7e_nJouO0NbBQl6/","properties":{"firstname":{"value":"testcase","versions":[{"value":"testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lead_source":{"value":"google","versions":[{"value":"google","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536695384,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"createdate":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hubspot_owner_id":{"value":"6168064","versions":[{"value":"6168064","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536720068,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"company":{"value":"Tezro Solutions","versions":[{"value":"Tezro Solutions","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"email":{"value":"testcase_001_source_cs@tezrosolutions.com","versions":[{"value":"testcase_001_source_cs@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536483928,"selected":false},{"value":"1447536482158","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lastmodifieddate":{"value":"1447536738278","versions":[{"value":"1447536738278","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1447536738278,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hubspot_owner_assigneddate":{"value":"1447536720068","versions":[{"value":"1447536720068","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536720068,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1447536729063,"selected":false}]},"hs_lead_status":{"value":"ASSIGNED","versions":[{"value":"ASSIGNED","source-type":"WORKFLOWS","source-id":"896757","source-label":null,"timestamp":1447536738266,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":19,"internal-list-id":20,"timestamp":1447536733634,"vid":104731,"is-member":true},{"static-list-id":20,"internal-list-id":21,"timestamp":1447536728936,"vid":104731,"is-member":true},{"static-list-id":24,"internal-list-id":25,"timestamp":1447536728833,"vid":104731,"is-member":true},{"static-list-id":31,"internal-list-id":32,"timestamp":1447536721254,"vid":104731,"is-member":true}],"identity-profiles":[{"vid":104731,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001_source_cs@tezrosolutions.com","timestamp":1447536481972,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"85315056-2b1e-49e2-b14b-ef779ddb86ec","timestamp":1447536482153,"source":"UNSPECIFIED"}]}],"merge-audits":[],"associated-owner":{"first-name":"Umair","last-name":"M","email":"umair@tezrosolutions.com","type":"PERSON"}}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      }

      public function testContactSpaceSynchronize() {
      $this->client->post('/contactspace/synchronize', '{"vid":104731,"canonical-vid":104731,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mN6dCh2Z6789h1Vf1RDd9JYT4PdHD1o0aOWfK6UbUUngxSf8Bbevdu5M9uUfYR5t5QU-vT76vxcB7KmKodYRYq4mYDHx2OoRT2Zl3Oc7yNGomFAcDjxAPuBq7e_nJouO0NbBQl6","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mN6dCh2Z6789h1Vf1RDd9JYT4PdHD1o0aOWfK6UbUUngxSf8Bbevdu5M9uUfYR5t5QU-vT76vxcB7KmKodYRYq4mYDHx2OoRT2Zl3Oc7yNGomFAcDjxAPuBq7e_nJouO0NbBQl6/","properties":{"firstname":{"value":"testcase","versions":[{"value":"testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lead_source":{"value":"google","versions":[{"value":"google","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536695384,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"createdate":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hubspot_owner_id":{"value":"6168064","versions":[{"value":"6168064","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536720068,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"company":{"value":"Tezro Solutions","versions":[{"value":"Tezro Solutions","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"email":{"value":"testcase_001_source_cs@tezrosolutions.com","versions":[{"value":"testcase_001_source_cs@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536483928,"selected":false},{"value":"1447536482158","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lastmodifieddate":{"value":"1447536738278","versions":[{"value":"1447536738278","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1447536738278,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hubspot_owner_assigneddate":{"value":"1447536720068","versions":[{"value":"1447536720068","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536720068,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1447536729063,"selected":false}]},"hs_lead_status":{"value":"ASSIGNED","versions":[{"value":"ASSIGNED","source-type":"WORKFLOWS","source-id":"896757","source-label":null,"timestamp":1447536738266,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":19,"internal-list-id":20,"timestamp":1447536733634,"vid":104731,"is-member":true},{"static-list-id":20,"internal-list-id":21,"timestamp":1447536728936,"vid":104731,"is-member":true},{"static-list-id":24,"internal-list-id":25,"timestamp":1447536728833,"vid":104731,"is-member":true},{"static-list-id":31,"internal-list-id":32,"timestamp":1447536721254,"vid":104731,"is-member":true}],"identity-profiles":[{"vid":104731,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001_source_cs@tezrosolutions.com","timestamp":1447536481972,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"85315056-2b1e-49e2-b14b-ef779ddb86ec","timestamp":1447536482153,"source":"UNSPECIFIED"}]}],"merge-audits":[],"associated-owner":{"first-name":"Umair","last-name":"M","email":"umair@tezrosolutions.com","type":"PERSON"}}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }

      public function testContactSpaceOutbound() {
      $this->client->get('/contactspace/outbound/6', '{"vid":106421,"canonical-vid":106421,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mNftBJUqKYRdOUKe7752Z5yKRzJ98YOGllRQFxEiuvQ0sGPDN_wqoNFNgwwHDkyM-zBo90UT23Kwek_ClsMiTWjrcsWeY1DcuxOP3ZjV9X5uCA4LdsM2cZ-oP7lAFLK-BuSsNKW","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mNftBJUqKYRdOUKe7752Z5yKRzJ98YOGllRQFxEiuvQ0sGPDN_wqoNFNgwwHDkyM-zBo90UT23Kwek_ClsMiTWjrcsWeY1DcuxOP3ZjV9X5uCA4LdsM2cZ-oP7lAFLK-BuSsNKW/","properties":{"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lead_source":{"value":"facebook","versions":[{"value":"facebook","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714509382,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"createdate":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"company":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"email":{"value":"testcase_001_source@tezrosolutions.com","versions":[{"value":"testcase_001_source@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"1447714476370","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lastmodifieddate":{"value":"1447714546255","versions":[{"value":"1447714546255","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1447714546255,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1447714546227,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":792,"internal-list-id":908,"timestamp":1447714546175,"vid":106421,"is-member":true},{"static-list-id":796,"internal-list-id":912,"timestamp":1447714546102,"vid":106421,"is-member":true}],"identity-profiles":[{"vid":106421,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001_source@tezrosolutions.com","timestamp":1447714476370,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"e11a3866-4b8f-4c96-95ad-1878209bef80","timestamp":1447714476466,"source":"UNSPECIFIED"}]}],"merge-audits":[]}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }

      public function testContactSpaceSynchronize() {
      $this->client->post('/contactspace/synchronize', '{"vid":106421,"canonical-vid":106421,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mNftBJUqKYRdOUKe7752Z5yKRzJ98YOGllRQFxEiuvQ0sGPDN_wqoNFNgwwHDkyM-zBo90UT23Kwek_ClsMiTWjrcsWeY1DcuxOP3ZjV9X5uCA4LdsM2cZ-oP7lAFLK-BuSsNKW","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mNftBJUqKYRdOUKe7752Z5yKRzJ98YOGllRQFxEiuvQ0sGPDN_wqoNFNgwwHDkyM-zBo90UT23Kwek_ClsMiTWjrcsWeY1DcuxOP3ZjV9X5uCA4LdsM2cZ-oP7lAFLK-BuSsNKW/","properties":{"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lead_source":{"value":"facebook","versions":[{"value":"facebook","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714509382,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"createdate":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"company":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"email":{"value":"testcase_001_source@tezrosolutions.com","versions":[{"value":"testcase_001_source@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"1447714476370","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lastmodifieddate":{"value":"1447714546255","versions":[{"value":"1447714546255","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1447714546255,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1447714546227,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":792,"internal-list-id":908,"timestamp":1447714546175,"vid":106421,"is-member":true},{"static-list-id":796,"internal-list-id":912,"timestamp":1447714546102,"vid":106421,"is-member":true}],"identity-profiles":[{"vid":106421,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001_source@tezrosolutions.com","timestamp":1447714476370,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"e11a3866-4b8f-4c96-95ad-1878209bef80","timestamp":1447714476466,"source":"UNSPECIFIED"}]}],"merge-audits":[]}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }

      public function testContactSpaceOutboundAdhoc() {
      $this->client->post('/contactspace/outbound_adhoc', '{"vid":106421,"canonical-vid":106421,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mNftBJUqKYRdOUKe7752Z5yKRzJ98YOGllRQFxEiuvQ0sGPDN_wqoNFNgwwHDkyM-zBo90UT23Kwek_ClsMiTWjrcsWeY1DcuxOP3ZjV9X5uCA4LdsM2cZ-oP7lAFLK-BuSsNKW","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mNftBJUqKYRdOUKe7752Z5yKRzJ98YOGllRQFxEiuvQ0sGPDN_wqoNFNgwwHDkyM-zBo90UT23Kwek_ClsMiTWjrcsWeY1DcuxOP3ZjV9X5uCA4LdsM2cZ-oP7lAFLK-BuSsNKW/","properties":{"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lead_source":{"value":"facebook","versions":[{"value":"facebook","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714509382,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"createdate":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"company":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"email":{"value":"testcase_001_source@tezrosolutions.com","versions":[{"value":"testcase_001_source@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"1447714476370","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lastmodifieddate":{"value":"1447714546255","versions":[{"value":"1447714546255","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1447714546255,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1447714476370","versions":[{"value":"1447714476370","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447714476364,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447714476891,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1447714546227,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479358,"selected":false},{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447714479310,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447714476370,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":792,"internal-list-id":908,"timestamp":1447714546175,"vid":106421,"is-member":true},{"static-list-id":796,"internal-list-id":912,"timestamp":1447714546102,"vid":106421,"is-member":true}],"identity-profiles":[{"vid":106421,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001_source@tezrosolutions.com","timestamp":1447714476370,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"e11a3866-4b8f-4c96-95ad-1878209bef80","timestamp":1447714476466,"source":"UNSPECIFIED"}]}],"merge-audits":[]}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }

      public function testContactSpaceUpdateHubSpot() {
      $this->client->post('/contactspace/updateHubSpot', array("CallID" => "8167"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      $this->assertEquals("success", $this->client->response->body());
      }

      public function testHubSpotSynchronize() {
      $this->client->post('/hubspot/synchronize', '{"firstname": "Testcase", "lastname": "001", "mobilephone": "1111111111" , "private_phone_number": "1111111111", "business_no" : "1111111111", "email": "testcase_001@tezrosolutions.com", "dob": "339984000000", "gender": "Male", "occupation": "SE", "address": "21 Hepworth Street", "suburb": "Arundel", "state": "QLD", "zip": "4124", "broker_full_name": "James Nakhla", "broker_email": "james@1800approved.com.au", "interest_rate": "7.00", "approved_loan_amount": "8000", "term_length": "12", "settlement_dt": "1418342400000", "home_sts": "Renting", "feedback_comments": "test", "hear_from": "google", "hs_lead_status": "ASSIGNED", "totalincome": "1000"}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      }

      public function testContactSpaceSynchronize() {
      $this->client->post('/contactspace/synchronize', '{"vid":108783,"canonical-vid":108783,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mM_iQFeLVyEgyVK3LY5bq1Jsay9aNZGZP-LsoFLOdmewqEngk_NkD796o4Z9S3aVaKLm7SNXqj2DX4G7gG9Wusf1IZqnHss0rIdWkCk41l9Vrp1TKb5J4kXyendlZR0LT10jwRN","profile-url":"https:\/\/app.hubspot.com\/contacts\/695602\/lists\/public\/contact\/_AO_T-mM_iQFeLVyEgyVK3LY5bq1Jsay9aNZGZP-LsoFLOdmewqEngk_NkD796o4Z9S3aVaKLm7SNXqj2DX4G7gG9Wusf1IZqnHss0rIdWkCk41l9Vrp1TKb5J4kXyendlZR0LT10jwRN\/","properties":{"approved_loan_amount":{"value":"8000","versions":[{"value":"8000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"occupation":{"value":"SE","versions":[{"value":"SE","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"gender":{"value":"Male","versions":[{"value":"Male","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"hear_from":{"value":"google","versions":[{"value":"google","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"createdate":{"value":"1447984329372","versions":[{"value":"1447984329372","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329372,"selected":false}]},"dealer_business_manager_name":{"value":"UK","versions":[{"value":"UK","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"loan_purpose":{"value":"car","versions":[{"value":"car","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"settlement_dt":{"value":"1418342400000","versions":[{"value":"1418342400000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"private_phone_number":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"home_sts":{"value":"Renting","versions":[{"value":"Renting","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"interest_rate":{"value":"7.00","versions":[{"value":"7.00","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"state":{"value":"QLD","versions":[{"value":"QLD","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"email":{"value":"testcase_001@tezrosolutions.com","versions":[{"value":"testcase_001@tezrosolutions.com","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"zip":{"value":"4124","versions":[{"value":"4124","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"vehicle_make":{"value":"Toyota","versions":[{"value":"Toyota","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"address":{"value":"21 Hepworth Street","versions":[{"value":"21 Hepworth Street","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"broker_full_name":{"value":"James Nakhla","versions":[{"value":"James Nakhla","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"vehicle_variant":{"value":"4WD","versions":[{"value":"4WD","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"business_no":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"feedback_comments":{"value":"test","versions":[{"value":"test","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"vehicle_type":{"value":"Car Insurance","versions":[{"value":"Car Insurance","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"total_sales_amount":{"value":"0","versions":[{"value":"0","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"term_length":{"value":"12","versions":[{"value":"12","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"broker_email":{"value":"james@1800approved.com.au","versions":[{"value":"james@1800approved.com.au","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"dob":{"value":"339984000000","versions":[{"value":"339984000000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"dealer_location_name":{"value":"QLD Dealer","versions":[{"value":"QLD Dealer","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"suburb":{"value":"Arundel","versions":[{"value":"Arundel","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"hs_lead_status":{"value":"ASSIGNED","versions":[{"value":"ASSIGNED","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"totalincome":{"value":"1000","versions":[{"value":"1000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]}},"form-submissions":[],"list-memberships":[],"identity-profiles":[{"vid":108783,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001@tezrosolutions.com","timestamp":1447984329372,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"0ddb669a-bf8c-40a3-abd6-e91fa2075958","timestamp":1447984329393,"source":"UNSPECIFIED"}]}],"merge-audits":[]}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }

      public function testContactSpaceUpdateHubSpot() {
      $this->client->post('/contactspace/updateHubSpot', array("CallID" => "9527"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      $this->assertEquals("success", $this->client->response->body());
      }

      public function testHubSpotSynchronize() {
      $this->client->post('/hubspot/synchronize', '{"firstname": "Testcase", "lastname": "001", "mobilephone": "1111111111" , "loan_purpose": "car", "private_phone_number": "1111111111", "business_no" : "1111111111", "email": "testcase_001@tezrosolutions.com", "dob": "339984000000", "gender": "Male", "occupation": "SE", "address": "21 Hepworth Street", "suburb": "Arundel", "state": "QLD", "zip": "4124", "broker_full_name": "James Nakhla", "broker_email": "james@1800approved.com.au", "interest_rate": "7.00", "approved_loan_amount": "8000", "term_length": "12", "settlement_dt": "1418342400000", "home_sts": "Renting", "feedback_comments": "test", "hear_from": "google", "hs_lead_status": "ASSIGNED", "totalincome": "1000", "vehicle_make": "Toyota", "vehicle_type": "Car Insurance", "vehicle_variant": "4WD", "total_sales_amount": "0", "dealer_location_name": "QLD Dealer", "dealer_business_manager_name": "UK"}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      }





      public function testContactSpaceSynchronize() {
      $this->client->post('/contactspace/synchronize', '{"vid":108783,"canonical-vid":108783,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mM_iQFeLVyEgyVK3LY5bq1Jsay9aNZGZP-LsoFLOdmewqEngk_NkD796o4Z9S3aVaKLm7SNXqj2DX4G7gG9Wusf1IZqnHss0rIdWkCk41l9Vrp1TKb5J4kXyendlZR0LT10jwRN","profile-url":"https:\/\/app.hubspot.com\/contacts\/695602\/lists\/public\/contact\/_AO_T-mM_iQFeLVyEgyVK3LY5bq1Jsay9aNZGZP-LsoFLOdmewqEngk_NkD796o4Z9S3aVaKLm7SNXqj2DX4G7gG9Wusf1IZqnHss0rIdWkCk41l9Vrp1TKb5J4kXyendlZR0LT10jwRN\/","properties":{"approved_loan_amount":{"value":"8000","versions":[{"value":"8000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"firstname":{"value":"Testcase","versions":[{"value":"Testcase","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"occupation":{"value":"SE","versions":[{"value":"SE","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"gender":{"value":"Male","versions":[{"value":"Male","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"hear_from":{"value":"google","versions":[{"value":"google","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"createdate":{"value":"1447984329372","versions":[{"value":"1447984329372","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329372,"selected":false}]},"dealer_business_manager_name":{"value":"UK","versions":[{"value":"UK","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"loan_purpose":{"value":"car","versions":[{"value":"car","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"settlement_dt":{"value":"1418342400000","versions":[{"value":"1418342400000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"private_phone_number":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"home_sts":{"value":"Renting","versions":[{"value":"Renting","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"interest_rate":{"value":"7.00","versions":[{"value":"7.00","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"state":{"value":"QLD","versions":[{"value":"QLD","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"email":{"value":"testcase_001@tezrosolutions.com","versions":[{"value":"testcase_001@tezrosolutions.com","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"zip":{"value":"4124","versions":[{"value":"4124","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"vehicle_make":{"value":"Toyota","versions":[{"value":"Toyota","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"address":{"value":"21 Hepworth Street","versions":[{"value":"21 Hepworth Street","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"broker_full_name":{"value":"James Nakhla","versions":[{"value":"James Nakhla","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"vehicle_variant":{"value":"4WD","versions":[{"value":"4WD","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"business_no":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"feedback_comments":{"value":"test","versions":[{"value":"test","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"vehicle_type":{"value":"Car Insurance","versions":[{"value":"Car Insurance","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"total_sales_amount":{"value":"0","versions":[{"value":"0","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"term_length":{"value":"12","versions":[{"value":"12","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"broker_email":{"value":"james@1800approved.com.au","versions":[{"value":"james@1800approved.com.au","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"dob":{"value":"339984000000","versions":[{"value":"339984000000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"dealer_location_name":{"value":"QLD Dealer","versions":[{"value":"QLD Dealer","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"suburb":{"value":"Arundel","versions":[{"value":"Arundel","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"hs_lead_status":{"value":"ASSIGNED","versions":[{"value":"ASSIGNED","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]},"totalincome":{"value":"1000","versions":[{"value":"1000","source-type":"API","source-id":null,"source-label":null,"timestamp":1447984329355,"selected":false}]}},"form-submissions":[],"list-memberships":[],"identity-profiles":[{"vid":108783,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001@tezrosolutions.com","timestamp":1447984329372,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"0ddb669a-bf8c-40a3-abd6-e91fa2075958","timestamp":1447984329393,"source":"UNSPECIFIED"}]}],"merge-audits":[]}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());

      //checking if ContactSpace synchronization was done without any problem
      $this->assertSame('200', $this->client->response->body());
      }



      public function testHubSpotUpdate() {
      $this->client->post('/hubspot/update', array("vid" => 111903, "dealId" => 13051265, "firstname" => "Testcase", "lastname" => "001", "mobilephone" => "1111111111", "loan_purpose" => "car", "private_phone_number" => "1111111111", "business_no" => "1111111111", "email" => "testcase_009@tezrosolutions.com", "dob" => "339984000000", "gender" => "Male", "occupation" => "SE", "address" => "21 Hepworth Street", "suburb" => "Arundel", "state" => "QLD", "zip" => "4124", "broker_full_name" => "James Nakhla", "broker_email" => "james@1800approved.com.au", "interest_rate" => "7.00", "approved_loan_amount" => "8000", "term_length" => "12", "settlement_dt" => "1418342400000", "home_sts" => "Renting", "feedback_comments" => "test", "hear_from" => "google", "hs_lead_status" => "0009", "totalincome" => "1000", "vehicle_make" => "Toyota", "vehicle_type" => "Car Insurance", "vehicle_variant" => "4WD", "total_sales_amount" => "0", "dealer_location_name" => "QLD Dealer", "dealer_business_manager_name" => "UK", "originator" => "genius"), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      }


      public function testHubSpotUpdate() {
      $this->client->post('/hubspot/update', array("vid" => 113226, "dealId" => 12260932, "firstname" => "Testcase", "lastname" => "102", "mobilephone" => "1111111111", "loan_purpose" => "car", "private_phone_number" => "1111111111", "business_no" => "1111111111", "email" => "testcase_102@tezrosolutions.com", "dob" => "339984000000", "gender" => "Male", "occupation" => "SE", "address" => "21 Hepworth Street", "suburb" => "Arundel", "state" => "QLD", "zip" => "4124", "broker_full_name" => "James Nakhla", "broker_email" => "james@1800approved.com.au", "interest_rate" => "7.00", "approved_loan_amount" => "8000", "term_length" => "12", "settlement_dt" => "1418342400000", "home_sts" => "Renting", "feedback_comments" => "test", "hear_from" => "google", "hs_lead_status" => "PROSPECT", "totalincome" => "1000", "vehicle_make" => "Toyota", "vehicle_type" => "Car Insurance", "vehicle_variant" => "4WD", "total_sales_amount" => "0", "dealer_location_name" => "QLD Dealer", "dealer_business_manager_name" => "UK", "originator" => ""), array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
      $this->assertEquals(200, $this->client->response->status());
      } */

    public function testGeniusSychronize() {
        $this->client->post('/genius/synchronize', '{"vid":104731,"canonical-vid":104731,"merged-vids":[],"portal-id":695602,"is-contact":true,"profile-token":"AO_T-mN6dCh2Z6789h1Vf1RDd9JYT4PdHD1o0aOWfK6UbUUngxSf8Bbevdu5M9uUfYR5t5QU-vT76vxcB7KmKodYRYq4mYDHx2OoRT2Zl3Oc7yNGomFAcDjxAPuBq7e_nJouO0NbBQl6","profile-url":"https://app.hubspot.com/contacts/695602/lists/public/contact/_AO_T-mN6dCh2Z6789h1Vf1RDd9JYT4PdHD1o0aOWfK6UbUUngxSf8Bbevdu5M9uUfYR5t5QU-vT76vxcB7KmKodYRYq4mYDHx2OoRT2Zl3Oc7yNGomFAcDjxAPuBq7e_nJouO0NbBQl6/","properties":{"firstname":{"value":"testcase","versions":[{"value":"testcase","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_last_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lead_source":{"value":"google","versions":[{"value":"google","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536695384,"selected":false}]},"num_unique_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_analytics_revenue":{"value":"0.0","versions":[{"value":"0.0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"createdate":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]},"hs_social_num_broadcast_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_last_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hs_analytics_num_visits":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout_691089":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hs_social_linkedin_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_social_last_engagement":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hubspot_owner_id":{"value":"6168064","versions":[{"value":"6168064","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536720068,"selected":false}]},"hs_analytics_source":{"value":"OFFLINE","versions":[{"value":"OFFLINE","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"mobilephone":{"value":"1111111111","versions":[{"value":"1111111111","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_num_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"company":{"value":"Tezro Solutions","versions":[{"value":"Tezro Solutions","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"email":{"value":"testcase_001_source_cs@tezrosolutions.com","versions":[{"value":"testcase_001_source_cs@tezrosolutions.com","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_analytics_first_url":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_visit_timestamp":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_first_timestamp":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536483928,"selected":false},{"value":"1447536482158","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lastmodifieddate":{"value":"1447536738278","versions":[{"value":"1447536738278","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":1447536738278,"selected":false}]},"hs_social_google_plus_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_last_referrer":{"value":"","versions":[{"value":"","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_lifecyclestage_subscriber_date":{"value":"1447536481972","versions":[{"value":"1447536481972","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]},"hs_analytics_average_page_views":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lastname":{"value":"001","versions":[{"value":"001","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536481949,"selected":false}]},"hs_social_facebook_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_email_optout_691095":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"hubspot_owner_assigneddate":{"value":"1447536720068","versions":[{"value":"1447536720068","source-type":"CONTACTS_WEB","source-id":"umair@tezrosolutions.com","source-label":null,"timestamp":1447536720068,"selected":false}]},"num_conversion_events":{"value":"0","versions":[{"value":"0","source-type":"CALCULATED","source-id":null,"source-label":null,"timestamp":0,"selected":false}]},"hs_email_optout_815077":{"value":"","versions":[{"value":"","source-type":"EMAIL","source-id":"Updated in response to an email address change.","source-label":null,"timestamp":1447536482317,"selected":false}]},"currentlyinworkflow":{"value":"true","versions":[{"value":"true","source-type":"WORKFLOWS","source-id":null,"source-label":null,"timestamp":1447536729063,"selected":false}]},"hs_lead_status":{"value":"ASSIGNED","versions":[{"value":"ASSIGNED","source-type":"WORKFLOWS","source-id":"896757","source-label":null,"timestamp":1447536738266,"selected":false}]},"hs_analytics_num_event_completions":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_source_data_2":{"value":"umair@tezrosolutions.com","versions":[{"value":"umair@tezrosolutions.com","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_social_twitter_clicks":{"value":"0","versions":[{"value":"0","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"hs_analytics_source_data_1":{"value":"CONTACTS_WEB","versions":[{"value":"CONTACTS_WEB","source-type":"ANALYTICS","source-id":"ContactAnalyticsDetailsUpdateWorker","source-label":null,"timestamp":1447536482878,"selected":false}]},"lifecyclestage":{"value":"subscriber","versions":[{"value":"subscriber","source-type":"CONTACTS_WEB","source-id":null,"source-label":null,"timestamp":1447536481972,"selected":false}]}},"form-submissions":[],"list-memberships":[{"static-list-id":19,"internal-list-id":20,"timestamp":1447536733634,"vid":104731,"is-member":true},{"static-list-id":20,"internal-list-id":21,"timestamp":1447536728936,"vid":104731,"is-member":true},{"static-list-id":24,"internal-list-id":25,"timestamp":1447536728833,"vid":104731,"is-member":true},{"static-list-id":31,"internal-list-id":32,"timestamp":1447536721254,"vid":104731,"is-member":true}],"identity-profiles":[{"vid":104731,"is-deleted":false,"is-contact":false,"pointer-vid":0,"previous-vid":0,"linked-vids":[],"saved-at-timestamp":0,"deleted-changed-timestamp":0,"identities":[{"type":"EMAIL","value":"testcase_001_source_cs@tezrosolutions.com","timestamp":1447536481972,"source":"UNSPECIFIED"},{"type":"LEAD_GUID","value":"85315056-2b1e-49e2-b14b-ef779ddb86ec","timestamp":1447536482153,"source":"UNSPECIFIED"}]}],"merge-audits":[],"associated-owner":{"first-name":"Umair","last-name":"M","email":"umair@tezrosolutions.com","type":"PERSON"}}', array('SERVER_NAME' => 'local.dev', 'PHP_AUTH_USER' => 'root', 'PHP_AUTH_PW' => 'r0Ot_C0n643'));
        $this->assertEquals(200, $this->client->response->status());
    }

}

/* End of file SyncTest.php */
